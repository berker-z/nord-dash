# Data Schema Documentation

This document describes the structure of the JSON output generated by the crawler (`schedule_YYYYMMDD_HHMMSS.json`). This data is intended to be consumed by the frontend application.

## Root Structure

The output is a JSON array of objects. Each object represents a schedule entry, which can be either a **TRIP** (a paired outbound and inbound flight) or an **EVENT** (a standalone flight or duty like CFR/HSBY).

### Common Fields

- `type`: String. Either `"TRIP"` or `"EVENT"`.

---

## Type: TRIP

Represents a round trip starting from Istanbul (IST) and returning to Istanbul.

```json
{
  "type": "TRIP",
  "destination": "Velana International Airport",
  "outbound": {
    "flight": "TK734",
    "departure": "2025-11-23 02:35:00",
    "arrival": "2025-11-23 10:35:00"
  },
  "inbound": {
    "flight": "TK735",
    "departure": "2025-11-24 19:55:00",
    "arrival": "2025-11-25 04:40:00"
  },
  "rest_time": "33h 20m"
}
```

### Fields

- `destination`: Name of the destination airport.
- `outbound`: Object containing details of the flight leaving IST.
  - `flight`: Flight number (e.g., "TK734").
  - `departure`: Departure timestamp (YYYY-MM-DD HH:MM:SS, UTC+3).
  - `arrival`: Arrival timestamp (YYYY-MM-DD HH:MM:SS, UTC+3).
- `inbound`: Object containing details of the return flight to IST.
  - `flight`: Flight number (e.g., "TK735").
  - `departure`: Departure timestamp.
  - `arrival`: Arrival timestamp.
- `rest_time`: Calculated duration between outbound arrival and inbound departure (e.g., "33h 20m").

---

## Type: EVENT

Represents a standalone duty or flight that couldn't be paired. This includes special codes like CFR (Call For Roster) and HSBY (Home Standby).

```json
{
  "type": "EVENT",
  "details": {
    "flight_number": "HSBY",
    "departure_airport": "Home",
    "arrival_airport": "Home",
    "departure_country": "Unknown",
    "arrival_country": "Unknown",
    "departure_time": "2025-11-20 14:29:00",
    "arrival_time": "2025-11-20 20:29:00",
    "duration": "6h 0m"
  }
}
```

### Fields

- `details`: Object containing the event details.
  - `flight_number`: The code or flight number (e.g., "HSBY", "CFR", "TK123").
  - `departure_airport`: Origin location (e.g., "Home", "IST").
  - `arrival_airport`: Destination location.
  - `departure_time`: Start time of the event.
  - `arrival_time`: End time of the event.
  - `duration`: Duration of the event.

---

## Type: FLIGHT

Represents a standalone flight that is not part of a paired round trip (e.g., a one-way flight or a broken pair).

```json
{
  "type": "FLIGHT",
  "details": {
    "flight_number": "TK123",
    "departure_airport": "Istanbul Airport",
    "arrival_airport": "Ankara Esenboga Airport",
    "departure_country": "Türkiye",
    "arrival_country": "Türkiye",
    "departure_time": "2025-11-20 10:00:00",
    "arrival_time": "2025-11-20 11:00:00",
    "duration": "1h 0m"
  }
}
```

### Fields

Same as **EVENT**, but `flight_number` will always start with "TK".
